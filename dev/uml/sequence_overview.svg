<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2390px" preserveAspectRatio="none" style="width:906px;height:2390px;" version="1.1" viewBox="0 0 906 2390" width="906px" zoomAndPan="magnify">
    <defs />
    <g><text fill="#000000" font-family="Helvetica" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="290" x="303.75" y="41.3486">MaSiMiWa - Sequence Overview</text><text fill="#000000" font-family="Helvetica" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="162" x="367.75" y="62.3018">for a valid request</text>
        <rect fill="#DDDDDD" height="2305.0391" style="stroke: #A80036; stroke-width: 1.0;" width="530.5" x="338" y="74.5469" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="568.25" y="86.6138">MaSyMoS</text>
        <rect fill="#AAAAFF" height="2139.3125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="163" y="165.9766" />
        <rect fill="#AAFFAA" height="2139.3125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="374" y="165.9766" />
        <rect fill="#FFFFFF" height="149.0391" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="278.5078" />
        <rect fill="#FFFFFF" height="447.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="464.6797" />
        <rect fill="#FFFFFF" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="1033.2031" />
        <rect fill="#FFFFFF" height="79.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="1299.3984" />
        <rect fill="#FFFFFF" height="281.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="1529.5938" />
        <rect fill="#FFFFFF" height="447.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="1848.2969" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="547.0781" />
        <rect fill="#FFFFFF" height="161.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="751.0078" />
        <rect fill="#FFFFFF" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="1062.3359" />
        <rect fill="#FFFFFF" height="72.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="1709.7656" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="1930.6953" />
        <rect fill="#FFFFFF" height="161.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="2134.625" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="765" y="619.3438" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="765" y="847.4063" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="765" y="1091.4688" />
        <rect fill="#FFFFFF" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="765" y="1738.8984" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="765" y="2002.9609" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="765" y="2231.0234" />
        <rect fill="#FFDDAA" height="105.9063" style="stroke: #000000; stroke-width: 2.0;" width="457" x="133" y="293.5078" />
        <rect fill="#EEFFEE" height="207.9297" style="stroke: #000000; stroke-width: 2.0;" width="562.5" x="322" y="484.6797" />
        <rect fill="#FFFFEE" height="176.7969" style="stroke: #000000; stroke-width: 2.0;" width="542.5" x="332" y="508.8125" />
        <rect fill="#EEFFEE" height="118.5313" style="stroke: #000000; stroke-width: 2.0;" width="346" x="528.5" y="766.0078" />
        <rect fill="#FFFFFF" height="137.0391" style="stroke: #000000; stroke-width: 2.0;" width="467" x="123" y="1544.5938" />
        <rect fill="#FFDDAA" height="105.9063" style="stroke: #000000; stroke-width: 2.0;" width="457" x="133" y="1568.7266" />
        <rect fill="#EEFFEE" height="207.9297" style="stroke: #000000; stroke-width: 2.0;" width="562.5" x="322" y="1868.2969" />
        <rect fill="#FFFFEE" height="176.7969" style="stroke: #000000; stroke-width: 2.0;" width="542.5" x="332" y="1892.4297" />
        <rect fill="#EEFFEE" height="118.5313" style="stroke: #000000; stroke-width: 2.0;" width="346" x="528.5" y="2149.625" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="168" x2="168" y1="155.9766" y2="2314.2891" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="379" x2="379" y1="155.9766" y2="2314.2891" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="596.5" x2="596.5" y1="155.9766" y2="2314.2891" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="769.5" x2="769.5" y1="155.9766" y2="2314.2891" />
        <rect fill="#FEFECE" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="143" y="124.6797" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="150" y="144.6748">SEEK</text>
        <rect fill="#FEFECE" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="143" y="2313.2891" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="150" y="2333.2842">SEEK</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="342" y="152.6748">MaSiMiWa</text>
        <ellipse cx="379" cy="123.6797" fill="#FEFECE" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;" />
        <polygon fill="#A80036" points="375,111.6797,381,106.6797,379,111.6797,381,116.6797,375,111.6797" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="342" y="2326.2842">MaSiMiWa</text>
        <ellipse cx="379" cy="2345.5859" fill="#FEFECE" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;" />
        <polygon fill="#A80036" points="375,2333.5859,381,2328.5859,379,2333.5859,381,2338.5859,375,2333.5859" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="538.5" y="152.6748">MaSyMoS-Morre</text>
        <ellipse cx="597" cy="123.6797" fill="#FEFECE" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;" />
        <polygon fill="#A80036" points="593,111.6797,599,106.6797,597,111.6797,599,116.6797,593,111.6797" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="538.5" y="2326.2842">MaSyMoS-Morre</text>
        <ellipse cx="597" cy="2345.5859" fill="#FEFECE" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;" />
        <polygon fill="#A80036" points="593,2333.5859,599,2328.5859,597,2333.5859,599,2338.5859,593,2333.5859" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="183" x="675.5" y="152.6748">masymos_neo4j_database</text>
        <path d="M752,103.6797 C752,93.6797 770,93.6797 770,93.6797 C770,93.6797 788,93.6797 788,103.6797 L788,129.6797 C788,139.6797 770,139.6797 770,139.6797 C770,139.6797 752,139.6797 752,129.6797 L752,103.6797 " fill="#FEFECE" style="stroke: #000000; stroke-width: 1.5;" />
        <path d="M752,103.6797 C752,113.6797 770,113.6797 770,113.6797 C770,113.6797 788,113.6797 788,103.6797 " fill="none" style="stroke: #000000; stroke-width: 1.5;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="183" x="675.5" y="2326.2842">masymos_neo4j_database</text>
        <path d="M752,2339.5859 C752,2329.5859 770,2329.5859 770,2329.5859 C770,2329.5859 788,2329.5859 788,2339.5859 L788,2365.5859 C788,2375.5859 770,2375.5859 770,2375.5859 C770,2375.5859 752,2375.5859 752,2365.5859 L752,2339.5859 " fill="#FEFECE" style="stroke: #000000; stroke-width: 1.5;" />
        <path d="M752,2339.5859 C752,2349.5859 770,2349.5859 770,2349.5859 C770,2349.5859 788,2349.5859 788,2339.5859 " fill="none" style="stroke: #000000; stroke-width: 1.5;" />
        <rect fill="#AAAAFF" height="2139.3125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="163" y="165.9766" />
        <rect fill="#AAFFAA" height="2139.3125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="374" y="165.9766" />
        <rect fill="#FFFFFF" height="149.0391" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="278.5078" />
        <rect fill="#FFFFFF" height="447.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="464.6797" />
        <rect fill="#FFFFFF" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="1033.2031" />
        <rect fill="#FFFFFF" height="79.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="1299.3984" />
        <rect fill="#FFFFFF" height="281.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="1529.5938" />
        <rect fill="#FFFFFF" height="447.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="1848.2969" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="547.0781" />
        <rect fill="#FFFFFF" height="161.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="751.0078" />
        <rect fill="#FFFFFF" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="1062.3359" />
        <rect fill="#FFFFFF" height="72.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="1709.7656" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="1930.6953" />
        <rect fill="#FFFFFF" height="161.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592" y="2134.625" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="765" y="619.3438" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="765" y="847.4063" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="765" y="1091.4688" />
        <rect fill="#FFFFFF" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="765" y="1738.8984" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="765" y="2002.9609" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="765" y="2231.0234" />
        <rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="891.5" x="3" y="186.543" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="894.5" y1="186.543" y2="186.543" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="894.5" y1="189.543" y2="189.543" />
        <rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="70" x="413.75" y="175.9766" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="419.75" y="192.0435">INSERT</text>
        <polygon fill="#FBFB77" points="76,214.1094,260,214.1094,270,233.1094,260,252.1094,76,252.1094,66,233.1094,76,214.1094" style="stroke: #A80036; stroke-width: 1.0;" />
        <ellipse cx="83.5" cy="225.7422" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="89" y="230.1763">user added a public model</text>
        <ellipse cx="83.5" cy="240.875" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="89" y="245.3091">user made a model public</text>
        <polygon fill="#A80036" points="367,274.5078,377,278.5078,367,282.5078,371,278.5078" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="373" y1="278.5078" y2="278.5078" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="180" y="273.4419">insert_model(id)</text>
        <path d="M133,293.5078 L366,293.5078 L366,302.5078 L356,312.5078 L133,312.5078 L133,293.5078 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="105.9063" style="stroke: #000000; stroke-width: 2.0;" width="457" x="133" y="293.5078" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="148" y="309.0825">check logic</text><text fill="#000000" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="231" y="303.79">(</text><text fill="#000000" font-family="Helvetica" font-size="10" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="236" y="303.79">see activity UML</text><text fill="#000000" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="331" y="303.79">)</text>
        <polygon fill="#A80036" points="184,330.2813,174,334.2813,184,338.2813,180,334.2813" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="378" y1="334.2813" y2="334.2813" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="190" y="329.2153">get json</text>
        <polygon fill="#A80036" points="367,344.2813,377,348.2813,367,352.2813,371,348.2813" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="173" x2="373" y1="348.2813" y2="348.2813" />
        <polygon fill="#A80036" points="882.5,373.4141,892.5,377.4141,882.5,381.4141,886.5,377.4141" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="888.5" y1="377.4141" y2="377.4141" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="396" y="372.3481">OPT: get content_blob (files)</text>
        <polygon fill="#A80036" points="400,387.4141,390,391.4141,400,395.4141,396,391.4141" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394" x2="893.5" y1="391.4141" y2="391.4141" />
        <polygon fill="#A80036" points="184,423.5469,174,427.5469,184,431.5469,180,427.5469" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="178" x2="373" y1="427.5469" y2="427.5469" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="190" y="422.481">SUCCESS</text>
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="384" x2="431" y1="451.6797" y2="451.6797" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="431" x2="431" y1="451.6797" y2="464.6797" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="390" x2="431" y1="464.6797" y2="464.6797" />
        <polygon fill="#A80036" points="400,460.6797,390,464.6797,400,468.6797,396,464.6797" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="396" y="446.6138">process queue</text>
        <path d="M322,484.6797 L399,484.6797 L399,491.6797 L389,501.6797 L322,501.6797 L322,484.6797 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="207.9297" style="stroke: #000000; stroke-width: 2.0;" width="562.5" x="322" y="484.6797" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="337" y="497.7466">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="414" y="496.8901">[queue]</text>
        <path d="M332,508.8125 L409,508.8125 L409,515.8125 L399,525.8125 L332,525.8125 L332,508.8125 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="176.7969" style="stroke: #000000; stroke-width: 2.0;" width="542.5" x="332" y="508.8125" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="347" y="521.8794">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="135" x="424" y="521.0229">[insert each content]</text>
        <polygon fill="#A80036" points="580,543.0781,590,547.0781,580,551.0781,584,547.0781" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="586" y1="547.0781" y2="547.0781" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="396" y="542.0122">add_model</text>
        <polygon fill="#A80036" points="882.5,572.2109,892.5,576.2109,882.5,580.2109,886.5,576.2109" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="602" x2="888.5" y1="576.2109" y2="576.2109" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="609" y="571.145">get file from the Internet</text>
        <polygon fill="#A80036" points="613,586.2109,603,590.2109,613,594.2109,609,590.2109" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607" x2="893.5" y1="590.2109" y2="590.2109" />
        <polygon fill="#A80036" points="753,615.3438,763,619.3438,753,623.3438,757,619.3438" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="602" x2="759" y1="619.3438" y2="619.3438" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="609" y="614.2778">insert new model</text>
        <polygon fill="#A80036" points="613,644.4766,603,648.4766,613,652.4766,609,648.4766" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607" x2="769" y1="648.4766" y2="648.4766" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="619" y="643.4106">SUCCESS</text>
        <polygon fill="#A80036" points="400,673.6094,390,677.6094,400,681.6094,396,677.6094" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394" x2="596" y1="677.6094" y2="677.6094" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="406" y="672.5435">SUCCESS</text>
        <polygon fill="#A80036" points="580,747.0078,590,751.0078,580,755.0078,584,751.0078" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="586" y1="751.0078" y2="751.0078" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="396" y="715.6763">create_annotation_index</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="396" y="730.8091">upgrade annotations, etc.</text><text fill="#000000" font-family="Helvetica" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="396" y="745.9419">for the whole DB</text>
        <path d="M528.5,766.0078 L605.5,766.0078 L605.5,773.0078 L595.5,783.0078 L528.5,783.0078 L528.5,766.0078 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="118.5313" style="stroke: #000000; stroke-width: 2.0;" width="346" x="528.5" y="766.0078" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="543.5" y="779.0747">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="620.5" y="778.2183">[annotations]</text>
        <polygon fill="#A80036" points="882.5,800.2734,892.5,804.2734,882.5,808.2734,886.5,804.2734" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="602" x2="888.5" y1="804.2734" y2="804.2734" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="609" y="799.2075">get data from the Internet</text>
        <polygon fill="#A80036" points="613,814.2734,603,818.2734,613,822.2734,609,818.2734" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607" x2="893.5" y1="818.2734" y2="818.2734" />
        <polygon fill="#A80036" points="753,843.4063,763,847.4063,753,851.4063,757,847.4063" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="602" x2="759" y1="847.4063" y2="847.4063" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="609" y="842.3403">insert additional data</text>
        <polygon fill="#A80036" points="613,872.5391,603,876.5391,613,880.5391,609,876.5391" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607" x2="769" y1="876.5391" y2="876.5391" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="619" y="871.4731">SUCCESS</text>
        <polygon fill="#A80036" points="395,908.6719,385,912.6719,395,916.6719,391,912.6719" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="389" x2="596" y1="912.6719" y2="912.6719" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="401" y="907.606">SUCCESS</text>
        <rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="891.5" x="3" y="941.2383" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="894.5" y1="941.2383" y2="941.2383" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="894.5" y1="944.2383" y2="944.2383" />
        <rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="73" x="412.25" y="930.6719" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="418.25" y="946.7388">DELETE</text>
        <polygon fill="#FBFB77" points="42,968.8047,293,968.8047,303,987.8047,293,1006.8047,42,1006.8047,32,987.8047,42,968.8047" style="stroke: #A80036; stroke-width: 1.0;" />
        <ellipse cx="49.5" cy="980.4375" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="55" y="984.8716">user deleted a public model</text>
        <ellipse cx="49.5" cy="995.5703" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="55" y="1000.0044">user made a public model non-public</text>
        <polygon fill="#A80036" points="367,1029.2031,377,1033.2031,367,1037.2031,371,1033.2031" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="373" y1="1033.2031" y2="1033.2031" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="180" y="1028.1372">delete_model(id)</text>
        <polygon fill="#A80036" points="580,1058.3359,590,1062.3359,580,1066.3359,584,1062.3359" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="586" y1="1062.3359" y2="1062.3359" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="396" y="1057.27">delete_model</text>
        <polygon fill="#A80036" points="753,1087.4688,763,1091.4688,753,1095.4688,757,1091.4688" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="602" x2="759" y1="1091.4688" y2="1091.4688" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="609" y="1086.4028">delete model</text>
        <polygon fill="#A80036" points="613,1116.6016,603,1120.6016,613,1124.6016,609,1120.6016" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607" x2="769" y1="1120.6016" y2="1120.6016" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="619" y="1115.5356">SUCCESS</text>
        <polygon fill="#A80036" points="400,1145.7344,390,1149.7344,400,1153.7344,396,1149.7344" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394" x2="596" y1="1149.7344" y2="1149.7344" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="406" y="1144.6685">SUCCESS</text>
        <polygon fill="#A80036" points="184,1174.8672,174,1178.8672,184,1182.8672,180,1178.8672" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="373" y1="1178.8672" y2="1178.8672" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="190" y="1173.8013">SUCCESS</text>
        <rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="891.5" x="3" y="1207.4336" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="894.5" y1="1207.4336" y2="1207.4336" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="894.5" y1="1210.4336" y2="1210.4336" />
        <rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="77" x="410.25" y="1196.8672" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="416.25" y="1212.9341">UPDATE</text>
        <polygon fill="#FBFB77" points="74,1235,262,1235,272,1254,262,1273,74,1273,64,1254,74,1235" style="stroke: #A80036; stroke-width: 1.0;" />
        <ellipse cx="81.5" cy="1246.6328" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="87" y="1251.0669">user uploads a new version</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="88" y="1266.1997">to a public model</text>
        <polygon fill="#A80036" points="367,1295.3984,377,1299.3984,367,1303.3984,371,1299.3984" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="373" y1="1299.3984" y2="1299.3984" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="180" y="1294.3325">update_model(id)</text>
        <path d="M315,1312.3984 L315,1352.3984 L832,1352.3984 L832,1322.3984 L822,1312.3984 L315,1312.3984 " fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.0;" />
        <path d="M822,1312.3984 L822,1322.3984 L832,1322.3984 L822,1312.3984 " fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="518.75" y="1329.4653">1.</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="534.75" y="1329.4653">do a DELETE</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="518.75" y="1344.5981">2.</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="534.75" y="1344.5981">do an INSERT</text>
        <polygon fill="#A80036" points="184,1374.7969,174,1378.7969,184,1382.7969,180,1378.7969" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="373" y1="1378.7969" y2="1378.7969" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="190" y="1373.731">SUCCESS</text>
        <rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="891.5" x="3" y="1407.3633" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="894.5" y1="1407.3633" y2="1407.3633" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="894.5" y1="1410.3633" y2="1410.3633" />
        <rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="68" x="414.75" y="1396.7969" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="420.75" y="1412.8638">BATCH</text>
        <polygon fill="#FBFB77" points="18,1434.9297,319,1434.9297,329,1468.9297,319,1502.9297,18,1502.9297,8,1468.9297,18,1434.9297" style="stroke: #A80036; stroke-width: 1.0;" />
        <ellipse cx="25.5" cy="1446.5625" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="31" y="1450.9966">admin forces recreation of masymos-db</text>
        <ellipse cx="25.5" cy="1461.6953" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="31" y="1466.1294">can take several hours</text>
        <ellipse cx="25.5" cy="1476.8281" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="286" x="31" y="1481.2622">data is not usable before annotating is done,</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="32" y="1496.395">so wait with the SUCCESS until finished</text>
        <polygon fill="#A80036" points="367,1525.5938,377,1529.5938,367,1533.5938,371,1529.5938" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="373" y1="1529.5938" y2="1529.5938" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="180" y="1524.5278">insert_models(id&lt;&lt;List&gt;&gt;)</text>
        <path d="M123,1544.5938 L200,1544.5938 L200,1551.5938 L190,1561.5938 L123,1561.5938 L123,1544.5938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="137.0391" style="stroke: #000000; stroke-width: 2.0;" width="467" x="123" y="1544.5938" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="138" y="1557.6606">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="215" y="1556.8042">[list]</text>
        <path d="M133,1568.7266 L366,1568.7266 L366,1577.7266 L356,1587.7266 L133,1587.7266 L133,1568.7266 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="105.9063" style="stroke: #000000; stroke-width: 2.0;" width="457" x="133" y="1568.7266" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="148" y="1584.3013">check logic</text><text fill="#000000" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="231" y="1579.0088">(</text><text fill="#000000" font-family="Helvetica" font-size="10" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="236" y="1579.0088">see activity UML</text><text fill="#000000" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="331" y="1579.0088">)</text>
        <polygon fill="#A80036" points="184,1605.5,174,1609.5,184,1613.5,180,1609.5" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="378" y1="1609.5" y2="1609.5" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="190" y="1604.4341">get json</text>
        <polygon fill="#A80036" points="367,1619.5,377,1623.5,367,1627.5,371,1623.5" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="173" x2="373" y1="1623.5" y2="1623.5" />
        <polygon fill="#A80036" points="882.5,1648.6328,892.5,1652.6328,882.5,1656.6328,886.5,1652.6328" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="888.5" y1="1652.6328" y2="1652.6328" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="396" y="1647.5669">OPT: get content_blob (files)</text>
        <polygon fill="#A80036" points="400,1662.6328,390,1666.6328,400,1670.6328,396,1666.6328" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394" x2="893.5" y1="1666.6328" y2="1666.6328" />
        <polygon fill="#A80036" points="580,1705.7656,590,1709.7656,580,1713.7656,584,1709.7656" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="586" y1="1709.7656" y2="1709.7656" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="396" y="1704.6997">delete whole database</text>
        <polygon fill="#A80036" points="753,1734.8984,763,1738.8984,753,1742.8984,757,1738.8984" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="602" x2="759" y1="1738.8984" y2="1738.8984" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="609" y="1733.8325">delete whole database</text>
        <polygon fill="#A80036" points="613,1748.8984,603,1752.8984,613,1756.8984,609,1752.8984" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607" x2="769" y1="1752.8984" y2="1752.8984" />
        <polygon fill="#A80036" points="400,1778.0313,390,1782.0313,400,1786.0313,396,1782.0313" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394" x2="596" y1="1782.0313" y2="1782.0313" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="406" y="1776.9653">SUCCESS</text>
        <polygon fill="#A80036" points="184,1807.1641,174,1811.1641,184,1815.1641,180,1811.1641" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="178" x2="373" y1="1811.1641" y2="1811.1641" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="190" y="1806.0981">SUCCESS</text>
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="384" x2="431" y1="1835.2969" y2="1835.2969" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="431" x2="431" y1="1835.2969" y2="1848.2969" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="390" x2="431" y1="1848.2969" y2="1848.2969" />
        <polygon fill="#A80036" points="400,1844.2969,390,1848.2969,400,1852.2969,396,1848.2969" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="396" y="1830.231">process queue</text>
        <path d="M322,1868.2969 L399,1868.2969 L399,1875.2969 L389,1885.2969 L322,1885.2969 L322,1868.2969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="207.9297" style="stroke: #000000; stroke-width: 2.0;" width="562.5" x="322" y="1868.2969" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="337" y="1881.3638">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="414" y="1880.5073">[queue]</text>
        <path d="M332,1892.4297 L409,1892.4297 L409,1899.4297 L399,1909.4297 L332,1909.4297 L332,1892.4297 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="176.7969" style="stroke: #000000; stroke-width: 2.0;" width="542.5" x="332" y="1892.4297" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="347" y="1905.4966">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="135" x="424" y="1904.6401">[insert each content]</text>
        <polygon fill="#A80036" points="580,1926.6953,590,1930.6953,580,1934.6953,584,1930.6953" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="586" y1="1930.6953" y2="1930.6953" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="396" y="1925.6294">add_model</text>
        <polygon fill="#A80036" points="882.5,1955.8281,892.5,1959.8281,882.5,1963.8281,886.5,1959.8281" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="602" x2="888.5" y1="1959.8281" y2="1959.8281" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="609" y="1954.7622">get file from the Internet</text>
        <polygon fill="#A80036" points="613,1969.8281,603,1973.8281,613,1977.8281,609,1973.8281" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607" x2="893.5" y1="1973.8281" y2="1973.8281" />
        <polygon fill="#A80036" points="753,1998.9609,763,2002.9609,753,2006.9609,757,2002.9609" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="602" x2="759" y1="2002.9609" y2="2002.9609" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="609" y="1997.895">insert new model</text>
        <polygon fill="#A80036" points="613,2028.0938,603,2032.0938,613,2036.0938,609,2032.0938" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607" x2="769" y1="2032.0938" y2="2032.0938" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="619" y="2027.0278">SUCCESS</text>
        <polygon fill="#A80036" points="400,2057.2266,390,2061.2266,400,2065.2266,396,2061.2266" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394" x2="596" y1="2061.2266" y2="2061.2266" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="406" y="2056.1606">SUCCESS</text>
        <polygon fill="#A80036" points="580,2130.625,590,2134.625,580,2138.625,584,2134.625" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="586" y1="2134.625" y2="2134.625" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="396" y="2099.2935">create_annotation_index</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="396" y="2114.4263">upgrade annotations, etc.</text><text fill="#000000" font-family="Helvetica" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="396" y="2129.5591">for the whole DB</text>
        <path d="M528.5,2149.625 L605.5,2149.625 L605.5,2156.625 L595.5,2166.625 L528.5,2166.625 L528.5,2149.625 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="118.5313" style="stroke: #000000; stroke-width: 2.0;" width="346" x="528.5" y="2149.625" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="543.5" y="2162.6919">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="620.5" y="2161.8354">[annotations]</text>
        <polygon fill="#A80036" points="882.5,2183.8906,892.5,2187.8906,882.5,2191.8906,886.5,2187.8906" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="602" x2="888.5" y1="2187.8906" y2="2187.8906" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="609" y="2182.8247">get data from the Internet</text>
        <polygon fill="#A80036" points="613,2197.8906,603,2201.8906,613,2205.8906,609,2201.8906" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607" x2="893.5" y1="2201.8906" y2="2201.8906" />
        <polygon fill="#A80036" points="753,2227.0234,763,2231.0234,753,2235.0234,757,2231.0234" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="602" x2="759" y1="2231.0234" y2="2231.0234" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="609" y="2225.9575">insert additional data</text>
        <polygon fill="#A80036" points="613,2256.1563,603,2260.1563,613,2264.1563,609,2260.1563" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607" x2="769" y1="2260.1563" y2="2260.1563" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="619" y="2255.0903">SUCCESS</text>
        <polygon fill="#A80036" points="395,2292.2891,385,2296.2891,395,2300.2891,391,2296.2891" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="389" x2="596" y1="2296.2891" y2="2296.2891" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="401" y="2291.2231">SUCCESS</text><text fill="#888888" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="95" x="799.5" y="12.2822">version: 19.11.2020</text>
        <!--MD5=[bb6980ea943b7850392e82946ac45e9b]
@startuml

title MaSiMiWa - Sequence Overview\nfor a valid request
header version: %date("dd.MM.yyyy")
'header version: 23.11.2018

skinparam defaultFontName Helvetica
skinparam shadowing false


!definelong check_logic()
group #fda check logic<sup>(//see activity UML//)</sup>

seek            <-      miwa            : get json
seek            - ->     miwa

miwa            ->]                     : OPT: get content_blob (files)
miwa            <- -]

end
!enddefinelong

!definelong process_queue()
miwa            - ->     miwa            : process queue

    activate miwa

    loop #efe queue
    
    loop #ffe insert each content

    miwa            ->      morre           : ""add_model""
        activate morre
        
        morre           ->]                     : get file from the Internet
        morre           <- -]

        morre           ->      db              : insert new model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
    miwa            <- -     morre           : SUCCESS
        deactivate morre
    
    end
    end

    miwa            ->      morre           : ""create_annotation_index""\nupgrade annotations, etc.\n//for the whole DB//
        activate morre

        loop #efe annotations

        morre           ->]                     : get data from the Internet
        morre           <- -]

        morre           ->      db              : insert additional data
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
        end
    
    miwa            <- -     morre           : SUCCESS
        deactivate morre 

    deactivate miwa
!enddefinelong







participant "SEEK" as seek
box "MaSyMoS"
    control "MaSiMiWa" as miwa
    control "MaSyMoS-Morre" as morre
    database "masymos_neo4j_database" as db


activate seek #aaf
    activate miwa #afa

== INSERT ==

hnote over seek
    * user added a public model
    * user made a model public
end note

seek            ->      miwa            : insert_model(id)
    activate miwa

check_logic()

seek            <- -     miwa            : SUCCESS
    deactivate miwa

process_queue()







== DELETE ==

hnote over seek
    * user deleted a public model
    * user made a public model non-public
end note

seek            ->      miwa            : delete_model(id)
    activate miwa
    
    miwa            ->      morre           : ""delete_model""
        activate morre
    
        morre           ->      db              : delete model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db

    miwa            <- -     morre           : SUCCESS
        deactivate morre 

seek            <-      miwa            : SUCCESS
    deactivate miwa 






== UPDATE ==

hnote over seek
    * user uploads a new version
       to a public model
end note

seek            ->      miwa            : update_model(id)
    activate miwa

    note over miwa,db #fff
        # do a DELETE
        # do an INSERT
    end note

seek            <-      miwa            : SUCCESS
    deactivate miwa 




== BATCH ==

hnote over seek
    * admin forces recreation of masymos-db
    * can take several hours
    * data is not usable before annotating is done,
       so wait with the SUCCESS until finished
end note


seek            ->      miwa            : insert_models(id<<List>>)
activate miwa

loop list
check_logic()
end

miwa            ->      morre           : delete whole database
    activate morre
    morre           ->      db              : delete whole database
        activate db
    morre           <- -     db
        deactivate db
miwa            <- -     morre           : SUCCESS
    deactivate morre

seek            <- -     miwa            : SUCCESS
deactivate miwa

process_queue()





@enduml

@startuml

title MaSiMiWa - Sequence Overview\nfor a valid request
header version: 19.11.2020

skinparam defaultFontName Helvetica
skinparam shadowing false










participant "SEEK" as seek
box "MaSyMoS"
    control "MaSiMiWa" as miwa
    control "MaSyMoS-Morre" as morre
    database "masymos_neo4j_database" as db


activate seek #aaf
    activate miwa #afa

== INSERT ==

hnote over seek
    * user added a public model
    * user made a model public
end note

seek            ->      miwa            : insert_model(id)
    activate miwa

group #fda check logic<sup>(//see activity UML//)</sup>

seek            <-      miwa            : get json
seek            - ->     miwa

miwa            ->]                     : OPT: get content_blob (files)
miwa            <- -]

end

seek            <- -     miwa            : SUCCESS
    deactivate miwa

miwa            - ->     miwa            : process queue

    activate miwa

    loop #efe queue
    
    loop #ffe insert each content

    miwa            ->      morre           : ""add_model""
        activate morre
        
        morre           ->]                     : get file from the Internet
        morre           <- -]

        morre           ->      db              : insert new model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
    miwa            <- -     morre           : SUCCESS
        deactivate morre
    
    end
    end

    miwa            ->      morre           : ""create_annotation_index""\nupgrade annotations, etc.\n//for the whole DB//
        activate morre

        loop #efe annotations

        morre           ->]                     : get data from the Internet
        morre           <- -]

        morre           ->      db              : insert additional data
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
        end
    
    miwa            <- -     morre           : SUCCESS
        deactivate morre 

    deactivate miwa







== DELETE ==

hnote over seek
    * user deleted a public model
    * user made a public model non-public
end note

seek            ->      miwa            : delete_model(id)
    activate miwa
    
    miwa            ->      morre           : ""delete_model""
        activate morre
    
        morre           ->      db              : delete model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db

    miwa            <- -     morre           : SUCCESS
        deactivate morre 

seek            <-      miwa            : SUCCESS
    deactivate miwa 






== UPDATE ==

hnote over seek
    * user uploads a new version
       to a public model
end note

seek            ->      miwa            : update_model(id)
    activate miwa

    note over miwa,db #fff
        # do a DELETE
        # do an INSERT
    end note

seek            <-      miwa            : SUCCESS
    deactivate miwa 




== BATCH ==

hnote over seek
    * admin forces recreation of masymos-db
    * can take several hours
    * data is not usable before annotating is done,
       so wait with the SUCCESS until finished
end note


seek            ->      miwa            : insert_models(id<<List>>)
activate miwa

loop list
group #fda check logic<sup>(//see activity UML//)</sup>

seek            <-      miwa            : get json
seek            - ->     miwa

miwa            ->]                     : OPT: get content_blob (files)
miwa            <- -]

end
end

miwa            ->      morre           : delete whole database
    activate morre
    morre           ->      db              : delete whole database
        activate db
    morre           <- -     db
        deactivate db
miwa            <- -     morre           : SUCCESS
    deactivate morre

seek            <- -     miwa            : SUCCESS
deactivate miwa

miwa            - ->     miwa            : process queue

    activate miwa

    loop #efe queue
    
    loop #ffe insert each content

    miwa            ->      morre           : ""add_model""
        activate morre
        
        morre           ->]                     : get file from the Internet
        morre           <- -]

        morre           ->      db              : insert new model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
    miwa            <- -     morre           : SUCCESS
        deactivate morre
    
    end
    end

    miwa            ->      morre           : ""create_annotation_index""\nupgrade annotations, etc.\n//for the whole DB//
        activate morre

        loop #efe annotations

        morre           ->]                     : get data from the Internet
        morre           <- -]

        morre           ->      db              : insert additional data
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
        end
    
    miwa            <- -     morre           : SUCCESS
        deactivate morre 

    deactivate miwa





@enduml

PlantUML version 1.2020.16(Sun Aug 23 22:20:43 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
-->
    </g>
</svg>