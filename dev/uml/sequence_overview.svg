<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2018px" preserveAspectRatio="none" style="width:927px;height:2018px;" version="1.1" viewBox="0 0 927 2018" width="927px" zoomAndPan="magnify">
    <defs />
    <g><text fill="#000000" font-family="Helvetica" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="290" x="314.25" y="41.3486">MaSiMiWa - Sequence Overview</text>
        <rect fill="#DDDDDD" height="1953.6953" style="stroke: #A80036; stroke-width: 1.0;" width="561.5" x="338" y="53.5938" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="583.75" y="65.6606">MaSyMoS</text>
        <rect fill="#AAAAFF" height="1787.9688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="163" y="145.0234" />
        <rect fill="#AAFFAA" height="1787.9688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="374" y="145.0234" />
        <rect fill="#FFFFFF" height="463.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="257.5547" />
        <rect fill="#FFFFFF" height="194.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="384" y="526.6172" />
        <rect fill="#FFFFFF" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="842.0781" />
        <rect fill="#FFFFFF" height="79.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="1108.2734" />
        <rect fill="#FFFFFF" height="585.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="1338.4688" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="623" y="329.8203" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="623" y="591.0156" />
        <rect fill="#FFFFFF" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="623" y="871.2109" />
        <rect fill="#FFFFFF" height="72.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="623" y="1410.7344" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="623" y="1536.2656" />
        <rect fill="#FFFFFF" height="161.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="623" y="1733.1953" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="796" y="402.0859" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="796" y="663.2813" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="796" y="900.3438" />
        <rect fill="#FFFFFF" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="796" y="1439.8672" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="796" y="1608.5313" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="796" y="1829.5938" />
        <rect fill="#EEFFEE" height="176.7969" style="stroke: #000000; stroke-width: 2.0;" width="573.5" x="332" y="1498" />
        <rect fill="#EEFFEE" height="118.5313" style="stroke: #000000; stroke-width: 2.0;" width="346" x="559.5" y="1748.1953" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="168" x2="168" y1="135.0234" y2="1941.9922" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="379" x2="379" y1="135.0234" y2="1941.9922" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="627.5" x2="627.5" y1="135.0234" y2="1941.9922" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="800.5" x2="800.5" y1="135.0234" y2="1941.9922" />
        <rect fill="#FEFECE" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="143" y="103.7266" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="150" y="123.7217">SEEK</text>
        <rect fill="#FEFECE" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="143" y="1940.9922" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="150" y="1960.9873">SEEK</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="342" y="131.7217">MaSiMiWa</text>
        <ellipse cx="379" cy="102.7266" fill="#FEFECE" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;" />
        <polygon fill="#A80036" points="375,90.7266,381,85.7266,379,90.7266,381,95.7266,375,90.7266" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="342" y="1953.9873">MaSiMiWa</text>
        <ellipse cx="379" cy="1973.2891" fill="#FEFECE" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;" />
        <polygon fill="#A80036" points="375,1961.2891,381,1956.2891,379,1961.2891,381,1966.2891,375,1961.2891" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="569.5" y="131.7217">MaSyMoS-Morre</text>
        <ellipse cx="628" cy="102.7266" fill="#FEFECE" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;" />
        <polygon fill="#A80036" points="624,90.7266,630,85.7266,628,90.7266,630,95.7266,624,90.7266" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="569.5" y="1953.9873">MaSyMoS-Morre</text>
        <ellipse cx="628" cy="1973.2891" fill="#FEFECE" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;" />
        <polygon fill="#A80036" points="624,1961.2891,630,1956.2891,628,1961.2891,630,1966.2891,624,1961.2891" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="183" x="706.5" y="131.7217">masymos_neo4j_database</text>
        <path d="M783,82.7266 C783,72.7266 801,72.7266 801,72.7266 C801,72.7266 819,72.7266 819,82.7266 L819,108.7266 C819,118.7266 801,118.7266 801,118.7266 C801,118.7266 783,118.7266 783,108.7266 L783,82.7266 " fill="#FEFECE" style="stroke: #000000; stroke-width: 1.5;" />
        <path d="M783,82.7266 C783,92.7266 801,92.7266 801,92.7266 C801,92.7266 819,92.7266 819,82.7266 " fill="none" style="stroke: #000000; stroke-width: 1.5;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="183" x="706.5" y="1953.9873">masymos_neo4j_database</text>
        <path d="M783,1967.2891 C783,1957.2891 801,1957.2891 801,1957.2891 C801,1957.2891 819,1957.2891 819,1967.2891 L819,1993.2891 C819,2003.2891 801,2003.2891 801,2003.2891 C801,2003.2891 783,2003.2891 783,1993.2891 L783,1967.2891 " fill="#FEFECE" style="stroke: #000000; stroke-width: 1.5;" />
        <path d="M783,1967.2891 C783,1977.2891 801,1977.2891 801,1977.2891 C801,1977.2891 819,1977.2891 819,1967.2891 " fill="none" style="stroke: #000000; stroke-width: 1.5;" />
        <rect fill="#AAAAFF" height="1787.9688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="163" y="145.0234" />
        <rect fill="#AAFFAA" height="1787.9688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="374" y="145.0234" />
        <rect fill="#FFFFFF" height="463.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="257.5547" />
        <rect fill="#FFFFFF" height="194.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="384" y="526.6172" />
        <rect fill="#FFFFFF" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="842.0781" />
        <rect fill="#FFFFFF" height="79.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="1108.2734" />
        <rect fill="#FFFFFF" height="585.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="379" y="1338.4688" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="623" y="329.8203" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="623" y="591.0156" />
        <rect fill="#FFFFFF" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="623" y="871.2109" />
        <rect fill="#FFFFFF" height="72.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="623" y="1410.7344" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="623" y="1536.2656" />
        <rect fill="#FFFFFF" height="161.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="623" y="1733.1953" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="796" y="402.0859" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="796" y="663.2813" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="796" y="900.3438" />
        <rect fill="#FFFFFF" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="796" y="1439.8672" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="796" y="1608.5313" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="796" y="1829.5938" />
        <rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="912.5" x="3" y="165.5898" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="915.5" y1="165.5898" y2="165.5898" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="915.5" y1="168.5898" y2="168.5898" />
        <rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="70" x="424.25" y="155.0234" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="430.25" y="171.0903">INSERT</text>
        <polygon fill="#FBFB77" points="76,193.1563,260,193.1563,270,212.1563,260,231.1563,76,231.1563,66,212.1563,76,193.1563" style="stroke: #A80036; stroke-width: 1.0;" />
        <ellipse cx="83.5" cy="204.7891" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="89" y="209.2231">user added a public model</text>
        <ellipse cx="83.5" cy="219.9219" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="89" y="224.356">user made a model public</text>
        <polygon fill="#A80036" points="367,253.5547,377,257.5547,367,261.5547,371,257.5547" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="373" y1="257.5547" y2="257.5547" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="180" y="252.4888">insert_model(id)</text>
        <polygon fill="#A80036" points="184,282.6875,174,286.6875,184,290.6875,180,286.6875" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="378" y1="286.6875" y2="286.6875" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="190" y="281.6216">get json (link)</text>
        <polygon fill="#A80036" points="367,296.6875,377,300.6875,367,304.6875,371,300.6875" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="173" x2="373" y1="300.6875" y2="300.6875" />
        <polygon fill="#A80036" points="611,325.8203,621,329.8203,611,333.8203,615,329.8203" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="617" y1="329.8203" y2="329.8203" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="396" y="324.7544">add_model</text>
        <polygon fill="#A80036" points="903.5,354.9531,913.5,358.9531,903.5,362.9531,907.5,358.9531" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="633" x2="909.5" y1="358.9531" y2="358.9531" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="640" y="353.8872">get file from the Internet</text>
        <polygon fill="#A80036" points="644,368.9531,634,372.9531,644,376.9531,640,372.9531" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="638" x2="914.5" y1="372.9531" y2="372.9531" />
        <polygon fill="#A80036" points="784,398.0859,794,402.0859,784,406.0859,788,402.0859" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="633" x2="790" y1="402.0859" y2="402.0859" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="640" y="397.02">insert new model</text>
        <polygon fill="#A80036" points="644,427.2188,634,431.2188,644,435.2188,640,431.2188" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="638" x2="800" y1="431.2188" y2="431.2188" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="650" y="426.1528">SUCCESS</text>
        <polygon fill="#A80036" points="400,456.3516,390,460.3516,400,464.3516,396,460.3516" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394" x2="627" y1="460.3516" y2="460.3516" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="406" y="455.2856">SUCCESS</text>
        <polygon fill="#A80036" points="184,485.4844,174,489.4844,184,493.4844,180,489.4844" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="178" x2="378" y1="489.4844" y2="489.4844" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="190" y="484.4185">SUCCESS</text>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="436" y1="513.6172" y2="513.6172" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="436" x2="436" y1="513.6172" y2="526.6172" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="395" x2="436" y1="526.6172" y2="526.6172" />
        <polygon fill="#A80036" points="405,522.6172,395,526.6172,405,530.6172,401,526.6172" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="401" y="508.5513">start annotation job in background</text>
        <polygon fill="#A80036" points="611,587.0156,621,591.0156,611,595.0156,615,591.0156" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="394" x2="617" y1="591.0156" y2="591.0156" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="401" y="555.6841">create_annotation_index</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="401" y="570.8169">upgrade annotations, etc.</text><text fill="#000000" font-family="Helvetica" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="401" y="585.9497">for the whole DB</text>
        <polygon fill="#A80036" points="903.5,616.1484,913.5,620.1484,903.5,624.1484,907.5,620.1484" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="633" x2="909.5" y1="620.1484" y2="620.1484" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="640" y="615.0825">get data from the Internet</text>
        <polygon fill="#A80036" points="644,630.1484,634,634.1484,644,638.1484,640,634.1484" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="638" x2="914.5" y1="634.1484" y2="634.1484" />
        <polygon fill="#A80036" points="784,659.2813,794,663.2813,784,667.2813,788,663.2813" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="633" x2="790" y1="663.2813" y2="663.2813" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="640" y="658.2153">insert additional data</text>
        <polygon fill="#A80036" points="644,688.4141,634,692.4141,644,696.4141,640,692.4141" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="638" x2="800" y1="692.4141" y2="692.4141" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="650" y="687.3481">SUCCESS</text>
        <polygon fill="#A80036" points="395,717.5469,385,721.5469,395,725.5469,391,721.5469" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="389" x2="627" y1="721.5469" y2="721.5469" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="401" y="716.481">SUCCESS</text>
        <rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="912.5" x="3" y="750.1133" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="915.5" y1="750.1133" y2="750.1133" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="915.5" y1="753.1133" y2="753.1133" />
        <rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="73" x="422.75" y="739.5469" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="428.75" y="755.6138">DELETE</text>
        <polygon fill="#FBFB77" points="42,777.6797,293,777.6797,303,796.6797,293,815.6797,42,815.6797,32,796.6797,42,777.6797" style="stroke: #A80036; stroke-width: 1.0;" />
        <ellipse cx="49.5" cy="789.3125" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="55" y="793.7466">user deleted a public model</text>
        <ellipse cx="49.5" cy="804.4453" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="55" y="808.8794">user made a public model non-public</text>
        <polygon fill="#A80036" points="367,838.0781,377,842.0781,367,846.0781,371,842.0781" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="373" y1="842.0781" y2="842.0781" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="180" y="837.0122">delete_model(id)</text>
        <polygon fill="#A80036" points="611,867.2109,621,871.2109,611,875.2109,615,871.2109" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="617" y1="871.2109" y2="871.2109" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="396" y="866.145">delete_model</text>
        <polygon fill="#A80036" points="784,896.3438,794,900.3438,784,904.3438,788,900.3438" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="633" x2="790" y1="900.3438" y2="900.3438" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="640" y="895.2778">delete model</text>
        <polygon fill="#A80036" points="644,925.4766,634,929.4766,644,933.4766,640,929.4766" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="638" x2="800" y1="929.4766" y2="929.4766" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="650" y="924.4106">SUCCESS</text>
        <polygon fill="#A80036" points="400,954.6094,390,958.6094,400,962.6094,396,958.6094" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394" x2="627" y1="958.6094" y2="958.6094" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="406" y="953.5435">SUCCESS</text>
        <polygon fill="#A80036" points="184,983.7422,174,987.7422,184,991.7422,180,987.7422" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="373" y1="987.7422" y2="987.7422" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="190" y="982.6763">SUCCESS</text>
        <rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="912.5" x="3" y="1016.3086" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="915.5" y1="1016.3086" y2="1016.3086" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="915.5" y1="1019.3086" y2="1019.3086" />
        <rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="77" x="420.75" y="1005.7422" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="426.75" y="1021.8091">UPDATE</text>
        <polygon fill="#FBFB77" points="74,1043.875,262,1043.875,272,1062.875,262,1081.875,74,1081.875,64,1062.875,74,1043.875" style="stroke: #A80036; stroke-width: 1.0;" />
        <ellipse cx="81.5" cy="1055.5078" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="87" y="1059.9419">user uploads a new version</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="88" y="1075.0747">to a public model</text>
        <polygon fill="#A80036" points="367,1104.2734,377,1108.2734,367,1112.2734,371,1108.2734" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="373" y1="1108.2734" y2="1108.2734" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="180" y="1103.2075">update_model(id)</text>
        <path d="M315,1121.2734 L315,1161.2734 L863,1161.2734 L863,1131.2734 L853,1121.2734 L315,1121.2734 " fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.0;" />
        <path d="M853,1121.2734 L853,1131.2734 L863,1131.2734 L853,1121.2734 " fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="534.25" y="1138.3403">1.</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="550.25" y="1138.3403">do a DELETE</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="534.25" y="1153.4731">2.</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="550.25" y="1153.4731">do an INSERT</text>
        <polygon fill="#A80036" points="184,1183.6719,174,1187.6719,184,1191.6719,180,1187.6719" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="373" y1="1187.6719" y2="1187.6719" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="190" y="1182.606">SUCCESS</text>
        <rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="912.5" x="3" y="1216.2383" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="915.5" y1="1216.2383" y2="1216.2383" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="915.5" y1="1219.2383" y2="1219.2383" />
        <rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="68" x="425.25" y="1205.6719" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="431.25" y="1221.7388">BATCH</text>
        <polygon fill="#FBFB77" points="18,1243.8047,319,1243.8047,329,1277.8047,319,1311.8047,18,1311.8047,8,1277.8047,18,1243.8047" style="stroke: #A80036; stroke-width: 1.0;" />
        <ellipse cx="25.5" cy="1255.4375" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="31" y="1259.8716">admin forces recreation of masymos-db</text>
        <ellipse cx="25.5" cy="1270.5703" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="31" y="1275.0044">can take several hours</text>
        <ellipse cx="25.5" cy="1285.7031" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="286" x="31" y="1290.1372">data is not usable before annotating is done,</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="32" y="1305.27">so wait with the SUCCESS until finished</text>
        <polygon fill="#A80036" points="367,1334.4688,377,1338.4688,367,1342.4688,371,1338.4688" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="373" y1="1338.4688" y2="1338.4688" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="180" y="1333.4028">insert_models(id&lt;&lt;List&gt;&gt;)</text>
        <polygon fill="#A80036" points="184,1363.6016,174,1367.6016,184,1371.6016,180,1367.6016" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="378" y1="1367.6016" y2="1367.6016" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="190" y="1362.5356">get json (link)</text>
        <polygon fill="#A80036" points="367,1377.6016,377,1381.6016,367,1385.6016,371,1381.6016" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="173" x2="373" y1="1381.6016" y2="1381.6016" />
        <polygon fill="#A80036" points="611,1406.7344,621,1410.7344,611,1414.7344,615,1410.7344" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="617" y1="1410.7344" y2="1410.7344" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="396" y="1405.6685">delete whole database</text>
        <polygon fill="#A80036" points="784,1435.8672,794,1439.8672,784,1443.8672,788,1439.8672" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="633" x2="790" y1="1439.8672" y2="1439.8672" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="640" y="1434.8013">delete whole database</text>
        <polygon fill="#A80036" points="644,1449.8672,634,1453.8672,644,1457.8672,640,1453.8672" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="638" x2="800" y1="1453.8672" y2="1453.8672" />
        <polygon fill="#A80036" points="400,1479,390,1483,400,1487,396,1483" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394" x2="627" y1="1483" y2="1483" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="406" y="1477.9341">SUCCESS</text>
        <path d="M332,1498 L409,1498 L409,1505 L399,1515 L332,1515 L332,1498 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="176.7969" style="stroke: #000000; stroke-width: 2.0;" width="573.5" x="332" y="1498" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="347" y="1511.0669">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="424" y="1510.2104">[id_list]</text>
        <polygon fill="#A80036" points="611,1532.2656,621,1536.2656,611,1540.2656,615,1536.2656" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="617" y1="1536.2656" y2="1536.2656" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="396" y="1531.1997">add_model</text>
        <polygon fill="#A80036" points="903.5,1561.3984,913.5,1565.3984,903.5,1569.3984,907.5,1565.3984" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="633" x2="909.5" y1="1565.3984" y2="1565.3984" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="640" y="1560.3325">get file from the Internet</text>
        <polygon fill="#A80036" points="644,1575.3984,634,1579.3984,644,1583.3984,640,1579.3984" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="638" x2="914.5" y1="1579.3984" y2="1579.3984" />
        <polygon fill="#A80036" points="784,1604.5313,794,1608.5313,784,1612.5313,788,1608.5313" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="633" x2="790" y1="1608.5313" y2="1608.5313" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="640" y="1603.4653">insert new model</text>
        <polygon fill="#A80036" points="644,1633.6641,634,1637.6641,644,1641.6641,640,1637.6641" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="638" x2="800" y1="1637.6641" y2="1637.6641" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="650" y="1632.5981">SUCCESS</text>
        <polygon fill="#A80036" points="400,1662.7969,390,1666.7969,400,1670.7969,396,1666.7969" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394" x2="627" y1="1666.7969" y2="1666.7969" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="406" y="1661.731">SUCCESS</text>
        <polygon fill="#A80036" points="611,1729.1953,621,1733.1953,611,1737.1953,615,1733.1953" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="389" x2="617" y1="1733.1953" y2="1733.1953" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="396" y="1697.8638">create_annotation_index</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="396" y="1712.9966">upgrade annotations, etc.</text><text fill="#000000" font-family="Helvetica" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="396" y="1728.1294">for the whole DB</text>
        <path d="M559.5,1748.1953 L636.5,1748.1953 L636.5,1755.1953 L626.5,1765.1953 L559.5,1765.1953 L559.5,1748.1953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="118.5313" style="stroke: #000000; stroke-width: 2.0;" width="346" x="559.5" y="1748.1953" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="574.5" y="1761.2622">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="651.5" y="1760.4058">[annotations]</text>
        <polygon fill="#A80036" points="903.5,1782.4609,913.5,1786.4609,903.5,1790.4609,907.5,1786.4609" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="633" x2="909.5" y1="1786.4609" y2="1786.4609" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="640" y="1781.395">get data from the Internet</text>
        <polygon fill="#A80036" points="644,1796.4609,634,1800.4609,644,1804.4609,640,1800.4609" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="638" x2="914.5" y1="1800.4609" y2="1800.4609" />
        <polygon fill="#A80036" points="784,1825.5938,794,1829.5938,784,1833.5938,788,1829.5938" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="633" x2="790" y1="1829.5938" y2="1829.5938" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="640" y="1824.5278">insert additional data</text>
        <polygon fill="#A80036" points="644,1854.7266,634,1858.7266,644,1862.7266,640,1858.7266" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="638" x2="800" y1="1858.7266" y2="1858.7266" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="650" y="1853.6606">SUCCESS</text>
        <polygon fill="#A80036" points="400,1890.8594,390,1894.8594,400,1898.8594,396,1894.8594" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394" x2="627" y1="1894.8594" y2="1894.8594" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="406" y="1889.7935">SUCCESS</text>
        <polygon fill="#A80036" points="184,1919.9922,174,1923.9922,184,1927.9922,180,1923.9922" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="178" x2="373" y1="1923.9922" y2="1923.9922" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="190" y="1918.9263">SUCCESS</text><text fill="#888888" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="95" x="820.5" y="12.2822">version: 17.09.2020</text>
        <!--MD5=[6016a8861290f4c9673aedca554cf983]
@startuml

title MaSiMiWa - Sequence Overview
header version: %date("dd.MM.yyyy")
'header version: 23.11.2018

skinparam defaultFontName Helvetica
skinparam shadowing false

participant "SEEK" as seek
box "MaSyMoS"
    control "MaSiMiWa" as miwa
    control "MaSyMoS-Morre" as morre
    database "masymos_neo4j_database" as db


activate seek #aaf
    activate miwa #afa

== INSERT ==

hnote over seek
    * user added a public model
    * user made a model public
end note

seek            ->      miwa            : insert_model(id)
    activate miwa

seek            <-      miwa            : get json (link)
seek            - ->     miwa
    
    miwa            ->      morre           : ""add_model""
        activate morre
        
        morre           ->]                     : get file from the Internet
        morre           <- -]

        morre           ->      db              : insert new model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
    miwa            <- -     morre           : SUCCESS
        deactivate morre

seek            <- -     miwa            : SUCCESS
    miwa            ->      miwa        : start annotation job in background
    activate miwa

    miwa            ->      morre           : ""create_annotation_index""\nupgrade annotations, etc.\n//for the whole DB//
        activate morre

        morre           ->]                     : get data from the Internet
        morre           <- -]

        morre           ->      db              : insert additional data
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
    
    miwa            <- -     morre           : SUCCESS
        deactivate morre 
    deactivate miwa
    deactivate miwa








== DELETE ==

hnote over seek
    * user deleted a public model
    * user made a public model non-public
end note

seek            ->      miwa            : delete_model(id)
    activate miwa
    
    miwa            ->      morre           : ""delete_model""
        activate morre
    
        morre           ->      db              : delete model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db

    miwa            <- -     morre           : SUCCESS
        deactivate morre 

seek            <-      miwa            : SUCCESS
    deactivate miwa 






== UPDATE ==

hnote over seek
    * user uploads a new version
       to a public model
end note

seek            ->      miwa            : update_model(id)
    activate miwa

    note over miwa,db #fff
        # do a DELETE
        # do an INSERT
    end note

seek            <-      miwa            : SUCCESS
    deactivate miwa 




== BATCH ==

hnote over seek
    * admin forces recreation of masymos-db
    * can take several hours
    * data is not usable before annotating is done,
       so wait with the SUCCESS until finished
end note

seek            ->      miwa            : insert_models(id<<List>>)
    activate miwa

seek            <-      miwa            : get json (link)
seek            - ->     miwa

    miwa            ->      morre           : delete whole database
        activate morre
        morre           ->      db              : delete whole database
            activate db
        morre           <- -     db
            deactivate db
    miwa            <- -     morre           : SUCCESS
        deactivate morre

    loop #efe id_list

    miwa            ->      morre           : ""add_model""
        activate morre
        
        morre           ->]                     : get file from the Internet
        morre           <- -]

        morre           ->      db              : insert new model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
    miwa            <- -     morre           : SUCCESS
        deactivate morre
    
    end

    miwa            ->      morre           : ""create_annotation_index""\nupgrade annotations, etc.\n//for the whole DB//
        activate morre

        loop #efe annotations

        morre           ->]                     : get data from the Internet
        morre           <- -]

        morre           ->      db              : insert additional data
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
        end
    
    miwa            <- -     morre           : SUCCESS
        deactivate morre 

seek            <- -     miwa            : SUCCESS

    deactivate miwa






@enduml

@startuml

title MaSiMiWa - Sequence Overview
header version: 17.09.2020

skinparam defaultFontName Helvetica
skinparam shadowing false

participant "SEEK" as seek
box "MaSyMoS"
    control "MaSiMiWa" as miwa
    control "MaSyMoS-Morre" as morre
    database "masymos_neo4j_database" as db


activate seek #aaf
    activate miwa #afa

== INSERT ==

hnote over seek
    * user added a public model
    * user made a model public
end note

seek            ->      miwa            : insert_model(id)
    activate miwa

seek            <-      miwa            : get json (link)
seek            - ->     miwa
    
    miwa            ->      morre           : ""add_model""
        activate morre
        
        morre           ->]                     : get file from the Internet
        morre           <- -]

        morre           ->      db              : insert new model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
    miwa            <- -     morre           : SUCCESS
        deactivate morre

seek            <- -     miwa            : SUCCESS
    miwa            ->      miwa        : start annotation job in background
    activate miwa

    miwa            ->      morre           : ""create_annotation_index""\nupgrade annotations, etc.\n//for the whole DB//
        activate morre

        morre           ->]                     : get data from the Internet
        morre           <- -]

        morre           ->      db              : insert additional data
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
    
    miwa            <- -     morre           : SUCCESS
        deactivate morre 
    deactivate miwa
    deactivate miwa








== DELETE ==

hnote over seek
    * user deleted a public model
    * user made a public model non-public
end note

seek            ->      miwa            : delete_model(id)
    activate miwa
    
    miwa            ->      morre           : ""delete_model""
        activate morre
    
        morre           ->      db              : delete model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db

    miwa            <- -     morre           : SUCCESS
        deactivate morre 

seek            <-      miwa            : SUCCESS
    deactivate miwa 






== UPDATE ==

hnote over seek
    * user uploads a new version
       to a public model
end note

seek            ->      miwa            : update_model(id)
    activate miwa

    note over miwa,db #fff
        # do a DELETE
        # do an INSERT
    end note

seek            <-      miwa            : SUCCESS
    deactivate miwa 




== BATCH ==

hnote over seek
    * admin forces recreation of masymos-db
    * can take several hours
    * data is not usable before annotating is done,
       so wait with the SUCCESS until finished
end note

seek            ->      miwa            : insert_models(id<<List>>)
    activate miwa

seek            <-      miwa            : get json (link)
seek            - ->     miwa

    miwa            ->      morre           : delete whole database
        activate morre
        morre           ->      db              : delete whole database
            activate db
        morre           <- -     db
            deactivate db
    miwa            <- -     morre           : SUCCESS
        deactivate morre

    loop #efe id_list

    miwa            ->      morre           : ""add_model""
        activate morre
        
        morre           ->]                     : get file from the Internet
        morre           <- -]

        morre           ->      db              : insert new model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
    miwa            <- -     morre           : SUCCESS
        deactivate morre
    
    end

    miwa            ->      morre           : ""create_annotation_index""\nupgrade annotations, etc.\n//for the whole DB//
        activate morre

        loop #efe annotations

        morre           ->]                     : get data from the Internet
        morre           <- -]

        morre           ->      db              : insert additional data
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
        end
    
    miwa            <- -     morre           : SUCCESS
        deactivate morre 

seek            <- -     miwa            : SUCCESS

    deactivate miwa






@enduml

PlantUML version 1.2020.16(Sun Aug 23 22:20:43 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
-->
    </g>
</svg>