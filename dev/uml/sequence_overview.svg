<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2390px" preserveAspectRatio="none" style="width:909px;height:2390px;" version="1.1" viewBox="0 0 909 2390" width="909px" zoomAndPan="magnify">
    <defs />
    <g><text fill="#000000" font-family="Helvetica" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="290" x="305.25" y="41.3486">MaSiMiWa - Sequence Overview</text><text fill="#000000" font-family="Helvetica" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="162" x="369.25" y="62.3018">for a valid request</text>
        <rect fill="#DDDDDD" height="2305.0391" style="stroke: #A80036; stroke-width: 1.0;" width="530.5" x="341" y="74.5469" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="571.25" y="86.6138">MaSyMoS</text>
        <rect fill="#AAAAFF" height="2139.3125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="163" y="165.9766" />
        <rect fill="#AAFFAA" height="2139.3125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="377" y="165.9766" />
        <rect fill="#FFFFFF" height="149.0391" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="382" y="278.5078" />
        <rect fill="#FFFFFF" height="447.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="382" y="464.6797" />
        <rect fill="#FFFFFF" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="382" y="1033.2031" />
        <rect fill="#FFFFFF" height="79.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="382" y="1299.3984" />
        <rect fill="#FFFFFF" height="281.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="382" y="1529.5938" />
        <rect fill="#FFFFFF" height="447.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="382" y="1848.2969" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="547.0781" />
        <rect fill="#FFFFFF" height="161.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="751.0078" />
        <rect fill="#FFFFFF" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="1062.3359" />
        <rect fill="#FFFFFF" height="72.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="1709.7656" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="1930.6953" />
        <rect fill="#FFFFFF" height="161.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="2134.625" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="619.3438" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="847.4063" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="1091.4688" />
        <rect fill="#FFFFFF" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="1738.8984" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="2002.9609" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="2231.0234" />
        <rect fill="#FFDDAA" height="105.9063" style="stroke: #000000; stroke-width: 2.0;" width="296" x="133" y="293.5078" />
        <rect fill="#EEFFEE" height="207.9297" style="stroke: #000000; stroke-width: 2.0;" width="562.5" x="325" y="484.6797" />
        <rect fill="#FFFFEE" height="176.7969" style="stroke: #000000; stroke-width: 2.0;" width="542.5" x="335" y="508.8125" />
        <rect fill="#EEFFEE" height="118.5313" style="stroke: #000000; stroke-width: 2.0;" width="346" x="531.5" y="766.0078" />
        <rect fill="#FFFFFF" height="137.0391" style="stroke: #000000; stroke-width: 2.0;" width="316" x="123" y="1544.5938" />
        <rect fill="#FFDDAA" height="105.9063" style="stroke: #000000; stroke-width: 2.0;" width="296" x="133" y="1568.7266" />
        <rect fill="#EEFFEE" height="207.9297" style="stroke: #000000; stroke-width: 2.0;" width="562.5" x="325" y="1868.2969" />
        <rect fill="#FFFFEE" height="176.7969" style="stroke: #000000; stroke-width: 2.0;" width="542.5" x="335" y="1892.4297" />
        <rect fill="#EEFFEE" height="118.5313" style="stroke: #000000; stroke-width: 2.0;" width="346" x="531.5" y="2149.625" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="168" x2="168" y1="155.9766" y2="2314.2891" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="382" x2="382" y1="155.9766" y2="2314.2891" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="599.5" x2="599.5" y1="155.9766" y2="2314.2891" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="772.5" x2="772.5" y1="155.9766" y2="2314.2891" />
        <rect fill="#FEFECE" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="143" y="124.6797" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="150" y="144.6748">SEEK</text>
        <rect fill="#FEFECE" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="143" y="2313.2891" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="150" y="2333.2842">SEEK</text><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="345" y="152.6748">MaSiMiWa</text>
        <ellipse cx="382" cy="123.6797" fill="#FEFECE" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;" />
        <polygon fill="#A80036" points="378,111.6797,384,106.6797,382,111.6797,384,116.6797,378,111.6797" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="345" y="2326.2842">MaSiMiWa</text>
        <ellipse cx="382" cy="2345.5859" fill="#FEFECE" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;" />
        <polygon fill="#A80036" points="378,2333.5859,384,2328.5859,382,2333.5859,384,2338.5859,378,2333.5859" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="541.5" y="152.6748">MaSyMoS-Morre</text>
        <ellipse cx="600" cy="123.6797" fill="#FEFECE" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;" />
        <polygon fill="#A80036" points="596,111.6797,602,106.6797,600,111.6797,602,116.6797,596,111.6797" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="541.5" y="2326.2842">MaSyMoS-Morre</text>
        <ellipse cx="600" cy="2345.5859" fill="#FEFECE" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;" />
        <polygon fill="#A80036" points="596,2333.5859,602,2328.5859,600,2333.5859,602,2338.5859,596,2333.5859" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="183" x="678.5" y="152.6748">masymos_neo4j_database</text>
        <path d="M755,103.6797 C755,93.6797 773,93.6797 773,93.6797 C773,93.6797 791,93.6797 791,103.6797 L791,129.6797 C791,139.6797 773,139.6797 773,139.6797 C773,139.6797 755,139.6797 755,129.6797 L755,103.6797 " fill="#FEFECE" style="stroke: #000000; stroke-width: 1.5;" />
        <path d="M755,103.6797 C755,113.6797 773,113.6797 773,113.6797 C773,113.6797 791,113.6797 791,103.6797 " fill="none" style="stroke: #000000; stroke-width: 1.5;" /><text fill="#000000" font-family="Helvetica" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="183" x="678.5" y="2326.2842">masymos_neo4j_database</text>
        <path d="M755,2339.5859 C755,2329.5859 773,2329.5859 773,2329.5859 C773,2329.5859 791,2329.5859 791,2339.5859 L791,2365.5859 C791,2375.5859 773,2375.5859 773,2375.5859 C773,2375.5859 755,2375.5859 755,2365.5859 L755,2339.5859 " fill="#FEFECE" style="stroke: #000000; stroke-width: 1.5;" />
        <path d="M755,2339.5859 C755,2349.5859 773,2349.5859 773,2349.5859 C773,2349.5859 791,2349.5859 791,2339.5859 " fill="none" style="stroke: #000000; stroke-width: 1.5;" />
        <rect fill="#AAAAFF" height="2139.3125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="163" y="165.9766" />
        <rect fill="#AAFFAA" height="2139.3125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="377" y="165.9766" />
        <rect fill="#FFFFFF" height="149.0391" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="382" y="278.5078" />
        <rect fill="#FFFFFF" height="447.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="382" y="464.6797" />
        <rect fill="#FFFFFF" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="382" y="1033.2031" />
        <rect fill="#FFFFFF" height="79.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="382" y="1299.3984" />
        <rect fill="#FFFFFF" height="281.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="382" y="1529.5938" />
        <rect fill="#FFFFFF" height="447.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="382" y="1848.2969" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="547.0781" />
        <rect fill="#FFFFFF" height="161.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="751.0078" />
        <rect fill="#FFFFFF" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="1062.3359" />
        <rect fill="#FFFFFF" height="72.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="1709.7656" />
        <rect fill="#FFFFFF" height="130.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="1930.6953" />
        <rect fill="#FFFFFF" height="161.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="595" y="2134.625" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="619.3438" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="847.4063" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="1091.4688" />
        <rect fill="#FFFFFF" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="1738.8984" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="2002.9609" />
        <rect fill="#FFFFFF" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="768" y="2231.0234" />
        <rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="894.5" x="3" y="186.543" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="897.5" y1="186.543" y2="186.543" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="897.5" y1="189.543" y2="189.543" />
        <rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="70" x="415.25" y="175.9766" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="421.25" y="192.0435">INSERT</text>
        <polygon fill="#FBFB77" points="76,214.1094,260,214.1094,270,233.1094,260,252.1094,76,252.1094,66,233.1094,76,214.1094" style="stroke: #A80036; stroke-width: 1.0;" />
        <ellipse cx="83.5" cy="225.7422" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="89" y="230.1763">user added a public model</text>
        <ellipse cx="83.5" cy="240.875" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="89" y="245.3091">user made a model public</text>
        <polygon fill="#A80036" points="370,274.5078,380,278.5078,370,282.5078,374,278.5078" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="376" y1="278.5078" y2="278.5078" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="180" y="273.4419">insert_model(id)</text>
        <path d="M133,293.5078 L366,293.5078 L366,302.5078 L356,312.5078 L133,312.5078 L133,293.5078 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="105.9063" style="stroke: #000000; stroke-width: 2.0;" width="296" x="133" y="293.5078" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="148" y="309.0825">check logic</text><text fill="#000000" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="231" y="303.79">(</text><text fill="#000000" font-family="Helvetica" font-size="10" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="236" y="303.79">see activity UML</text><text fill="#000000" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="331" y="303.79">)</text>
        <polygon fill="#A80036" points="184,330.2813,174,334.2813,184,338.2813,180,334.2813" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="381" y1="334.2813" y2="334.2813" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="190" y="329.2153">get json</text>
        <polygon fill="#A80036" points="370,344.2813,380,348.2813,370,352.2813,374,348.2813" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="173" x2="376" y1="348.2813" y2="348.2813" />
        <polygon fill="#A80036" points="184,373.4141,174,377.4141,184,381.4141,180,377.4141" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="381" y1="377.4141" y2="377.4141" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="190" y="372.3481">OPT: get content_blob (files)</text>
        <polygon fill="#A80036" points="370,387.4141,380,391.4141,370,395.4141,374,391.4141" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="173" x2="376" y1="391.4141" y2="391.4141" />
        <polygon fill="#A80036" points="184,423.5469,174,427.5469,184,431.5469,180,427.5469" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="178" x2="376" y1="427.5469" y2="427.5469" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="190" y="422.481">SUCCESS</text>
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="387" x2="434" y1="451.6797" y2="451.6797" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="434" x2="434" y1="451.6797" y2="464.6797" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="393" x2="434" y1="464.6797" y2="464.6797" />
        <polygon fill="#A80036" points="403,460.6797,393,464.6797,403,468.6797,399,464.6797" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="399" y="446.6138">process queue</text>
        <path d="M325,484.6797 L402,484.6797 L402,491.6797 L392,501.6797 L325,501.6797 L325,484.6797 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="207.9297" style="stroke: #000000; stroke-width: 2.0;" width="562.5" x="325" y="484.6797" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="340" y="497.7466">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="417" y="496.8901">[queue]</text>
        <path d="M335,508.8125 L412,508.8125 L412,515.8125 L402,525.8125 L335,525.8125 L335,508.8125 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="176.7969" style="stroke: #000000; stroke-width: 2.0;" width="542.5" x="335" y="508.8125" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="350" y="521.8794">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="135" x="427" y="521.0229">[insert each content]</text>
        <polygon fill="#A80036" points="583,543.0781,593,547.0781,583,551.0781,587,547.0781" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="392" x2="589" y1="547.0781" y2="547.0781" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="399" y="542.0122">add_model</text>
        <polygon fill="#A80036" points="885.5,572.2109,895.5,576.2109,885.5,580.2109,889.5,576.2109" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="605" x2="891.5" y1="576.2109" y2="576.2109" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="612" y="571.145">get file from the Internet</text>
        <polygon fill="#A80036" points="616,586.2109,606,590.2109,616,594.2109,612,590.2109" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="896.5" y1="590.2109" y2="590.2109" />
        <polygon fill="#A80036" points="756,615.3438,766,619.3438,756,623.3438,760,619.3438" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="605" x2="762" y1="619.3438" y2="619.3438" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="612" y="614.2778">insert new model</text>
        <polygon fill="#A80036" points="616,644.4766,606,648.4766,616,652.4766,612,648.4766" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="772" y1="648.4766" y2="648.4766" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="622" y="643.4106">SUCCESS</text>
        <polygon fill="#A80036" points="403,673.6094,393,677.6094,403,681.6094,399,677.6094" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="397" x2="599" y1="677.6094" y2="677.6094" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="409" y="672.5435">SUCCESS</text>
        <polygon fill="#A80036" points="583,747.0078,593,751.0078,583,755.0078,587,751.0078" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="392" x2="589" y1="751.0078" y2="751.0078" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="399" y="715.6763">create_annotation_index</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="399" y="730.8091">upgrade annotations, etc.</text><text fill="#000000" font-family="Helvetica" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="399" y="745.9419">for the whole DB</text>
        <path d="M531.5,766.0078 L608.5,766.0078 L608.5,773.0078 L598.5,783.0078 L531.5,783.0078 L531.5,766.0078 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="118.5313" style="stroke: #000000; stroke-width: 2.0;" width="346" x="531.5" y="766.0078" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="546.5" y="779.0747">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="623.5" y="778.2183">[annotations]</text>
        <polygon fill="#A80036" points="885.5,800.2734,895.5,804.2734,885.5,808.2734,889.5,804.2734" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="605" x2="891.5" y1="804.2734" y2="804.2734" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="612" y="799.2075">get data from the Internet</text>
        <polygon fill="#A80036" points="616,814.2734,606,818.2734,616,822.2734,612,818.2734" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="896.5" y1="818.2734" y2="818.2734" />
        <polygon fill="#A80036" points="756,843.4063,766,847.4063,756,851.4063,760,847.4063" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="605" x2="762" y1="847.4063" y2="847.4063" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="612" y="842.3403">insert additional data</text>
        <polygon fill="#A80036" points="616,872.5391,606,876.5391,616,880.5391,612,876.5391" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="772" y1="876.5391" y2="876.5391" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="622" y="871.4731">SUCCESS</text>
        <polygon fill="#A80036" points="398,908.6719,388,912.6719,398,916.6719,394,912.6719" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="392" x2="599" y1="912.6719" y2="912.6719" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="404" y="907.606">SUCCESS</text>
        <rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="894.5" x="3" y="941.2383" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="897.5" y1="941.2383" y2="941.2383" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="897.5" y1="944.2383" y2="944.2383" />
        <rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="73" x="413.75" y="930.6719" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="419.75" y="946.7388">DELETE</text>
        <polygon fill="#FBFB77" points="42,968.8047,293,968.8047,303,987.8047,293,1006.8047,42,1006.8047,32,987.8047,42,968.8047" style="stroke: #A80036; stroke-width: 1.0;" />
        <ellipse cx="49.5" cy="980.4375" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="55" y="984.8716">user deleted a public model</text>
        <ellipse cx="49.5" cy="995.5703" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="55" y="1000.0044">user made a public model non-public</text>
        <polygon fill="#A80036" points="370,1029.2031,380,1033.2031,370,1037.2031,374,1033.2031" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="376" y1="1033.2031" y2="1033.2031" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="180" y="1028.1372">delete_model(id)</text>
        <polygon fill="#A80036" points="583,1058.3359,593,1062.3359,583,1066.3359,587,1062.3359" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="392" x2="589" y1="1062.3359" y2="1062.3359" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="399" y="1057.27">delete_model</text>
        <polygon fill="#A80036" points="756,1087.4688,766,1091.4688,756,1095.4688,760,1091.4688" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="605" x2="762" y1="1091.4688" y2="1091.4688" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="612" y="1086.4028">delete model</text>
        <polygon fill="#A80036" points="616,1116.6016,606,1120.6016,616,1124.6016,612,1120.6016" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="772" y1="1120.6016" y2="1120.6016" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="622" y="1115.5356">SUCCESS</text>
        <polygon fill="#A80036" points="403,1145.7344,393,1149.7344,403,1153.7344,399,1149.7344" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="397" x2="599" y1="1149.7344" y2="1149.7344" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="409" y="1144.6685">SUCCESS</text>
        <polygon fill="#A80036" points="184,1174.8672,174,1178.8672,184,1182.8672,180,1178.8672" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="376" y1="1178.8672" y2="1178.8672" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="190" y="1173.8013">SUCCESS</text>
        <rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="894.5" x="3" y="1207.4336" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="897.5" y1="1207.4336" y2="1207.4336" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="897.5" y1="1210.4336" y2="1210.4336" />
        <rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="77" x="411.75" y="1196.8672" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58" x="417.75" y="1212.9341">UPDATE</text>
        <polygon fill="#FBFB77" points="74,1235,262,1235,272,1254,262,1273,74,1273,64,1254,74,1235" style="stroke: #A80036; stroke-width: 1.0;" />
        <ellipse cx="81.5" cy="1246.6328" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="87" y="1251.0669">user uploads a new version</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="88" y="1266.1997">to a public model</text>
        <polygon fill="#A80036" points="370,1295.3984,380,1299.3984,370,1303.3984,374,1299.3984" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="376" y1="1299.3984" y2="1299.3984" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="180" y="1294.3325">update_model(id)</text>
        <path d="M318,1312.3984 L318,1352.3984 L835,1352.3984 L835,1322.3984 L825,1312.3984 L318,1312.3984 " fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.0;" />
        <path d="M825,1312.3984 L825,1322.3984 L835,1322.3984 L825,1312.3984 " fill="#FFFFFF" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="521.75" y="1329.4653">1.</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="537.75" y="1329.4653">do a DELETE</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="521.75" y="1344.5981">2.</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="537.75" y="1344.5981">do an INSERT</text>
        <polygon fill="#A80036" points="184,1374.7969,174,1378.7969,184,1382.7969,180,1378.7969" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="376" y1="1378.7969" y2="1378.7969" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="190" y="1373.731">SUCCESS</text>
        <rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="894.5" x="3" y="1407.3633" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="897.5" y1="1407.3633" y2="1407.3633" />
        <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="897.5" y1="1410.3633" y2="1410.3633" />
        <rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="68" x="416.25" y="1396.7969" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="422.25" y="1412.8638">BATCH</text>
        <polygon fill="#FBFB77" points="18,1434.9297,319,1434.9297,329,1468.9297,319,1502.9297,18,1502.9297,8,1468.9297,18,1434.9297" style="stroke: #A80036; stroke-width: 1.0;" />
        <ellipse cx="25.5" cy="1446.5625" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="31" y="1450.9966">admin forces recreation of masymos-db</text>
        <ellipse cx="25.5" cy="1461.6953" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="31" y="1466.1294">can take several hours</text>
        <ellipse cx="25.5" cy="1476.8281" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="286" x="31" y="1481.2622">data is not usable before annotating is done,</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="32" y="1496.395">so wait with the SUCCESS until finished</text>
        <polygon fill="#A80036" points="370,1525.5938,380,1529.5938,370,1533.5938,374,1529.5938" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="173" x2="376" y1="1529.5938" y2="1529.5938" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="180" y="1524.5278">insert_models(id&lt;&lt;List&gt;&gt;)</text>
        <path d="M123,1544.5938 L200,1544.5938 L200,1551.5938 L190,1561.5938 L123,1561.5938 L123,1544.5938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="137.0391" style="stroke: #000000; stroke-width: 2.0;" width="316" x="123" y="1544.5938" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="138" y="1557.6606">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="215" y="1556.8042">[list]</text>
        <path d="M133,1568.7266 L366,1568.7266 L366,1577.7266 L356,1587.7266 L133,1587.7266 L133,1568.7266 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="105.9063" style="stroke: #000000; stroke-width: 2.0;" width="296" x="133" y="1568.7266" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="148" y="1584.3013">check logic</text><text fill="#000000" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="231" y="1579.0088">(</text><text fill="#000000" font-family="Helvetica" font-size="10" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="236" y="1579.0088">see activity UML</text><text fill="#000000" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5" x="331" y="1579.0088">)</text>
        <polygon fill="#A80036" points="184,1605.5,174,1609.5,184,1613.5,180,1609.5" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="381" y1="1609.5" y2="1609.5" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="190" y="1604.4341">get json</text>
        <polygon fill="#A80036" points="370,1619.5,380,1623.5,370,1627.5,374,1623.5" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="173" x2="376" y1="1623.5" y2="1623.5" />
        <polygon fill="#A80036" points="184,1648.6328,174,1652.6328,184,1656.6328,180,1652.6328" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="381" y1="1652.6328" y2="1652.6328" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="190" y="1647.5669">OPT: get content_blob (files)</text>
        <polygon fill="#A80036" points="370,1662.6328,380,1666.6328,370,1670.6328,374,1666.6328" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="173" x2="376" y1="1666.6328" y2="1666.6328" />
        <polygon fill="#A80036" points="583,1705.7656,593,1709.7656,583,1713.7656,587,1709.7656" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="392" x2="589" y1="1709.7656" y2="1709.7656" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="399" y="1704.6997">delete whole database</text>
        <polygon fill="#A80036" points="756,1734.8984,766,1738.8984,756,1742.8984,760,1738.8984" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="605" x2="762" y1="1738.8984" y2="1738.8984" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="612" y="1733.8325">delete whole database</text>
        <polygon fill="#A80036" points="616,1748.8984,606,1752.8984,616,1756.8984,612,1752.8984" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="772" y1="1752.8984" y2="1752.8984" />
        <polygon fill="#A80036" points="403,1778.0313,393,1782.0313,403,1786.0313,399,1782.0313" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="397" x2="599" y1="1782.0313" y2="1782.0313" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="409" y="1776.9653">SUCCESS</text>
        <polygon fill="#A80036" points="184,1807.1641,174,1811.1641,184,1815.1641,180,1811.1641" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="178" x2="376" y1="1811.1641" y2="1811.1641" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="190" y="1806.0981">SUCCESS</text>
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="387" x2="434" y1="1835.2969" y2="1835.2969" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="434" x2="434" y1="1835.2969" y2="1848.2969" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="393" x2="434" y1="1848.2969" y2="1848.2969" />
        <polygon fill="#A80036" points="403,1844.2969,393,1848.2969,403,1852.2969,399,1848.2969" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="399" y="1830.231">process queue</text>
        <path d="M325,1868.2969 L402,1868.2969 L402,1875.2969 L392,1885.2969 L325,1885.2969 L325,1868.2969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="207.9297" style="stroke: #000000; stroke-width: 2.0;" width="562.5" x="325" y="1868.2969" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="340" y="1881.3638">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="417" y="1880.5073">[queue]</text>
        <path d="M335,1892.4297 L412,1892.4297 L412,1899.4297 L402,1909.4297 L335,1909.4297 L335,1892.4297 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="176.7969" style="stroke: #000000; stroke-width: 2.0;" width="542.5" x="335" y="1892.4297" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="350" y="1905.4966">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="135" x="427" y="1904.6401">[insert each content]</text>
        <polygon fill="#A80036" points="583,1926.6953,593,1930.6953,583,1934.6953,587,1930.6953" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="392" x2="589" y1="1930.6953" y2="1930.6953" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="399" y="1925.6294">add_model</text>
        <polygon fill="#A80036" points="885.5,1955.8281,895.5,1959.8281,885.5,1963.8281,889.5,1959.8281" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="605" x2="891.5" y1="1959.8281" y2="1959.8281" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="612" y="1954.7622">get file from the Internet</text>
        <polygon fill="#A80036" points="616,1969.8281,606,1973.8281,616,1977.8281,612,1973.8281" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="896.5" y1="1973.8281" y2="1973.8281" />
        <polygon fill="#A80036" points="756,1998.9609,766,2002.9609,756,2006.9609,760,2002.9609" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="605" x2="762" y1="2002.9609" y2="2002.9609" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="612" y="1997.895">insert new model</text>
        <polygon fill="#A80036" points="616,2028.0938,606,2032.0938,616,2036.0938,612,2032.0938" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="772" y1="2032.0938" y2="2032.0938" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="622" y="2027.0278">SUCCESS</text>
        <polygon fill="#A80036" points="403,2057.2266,393,2061.2266,403,2065.2266,399,2061.2266" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="397" x2="599" y1="2061.2266" y2="2061.2266" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="409" y="2056.1606">SUCCESS</text>
        <polygon fill="#A80036" points="583,2130.625,593,2134.625,583,2138.625,587,2134.625" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="392" x2="589" y1="2134.625" y2="2134.625" /><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="399" y="2099.2935">create_annotation_index</text><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="399" y="2114.4263">upgrade annotations, etc.</text><text fill="#000000" font-family="Helvetica" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="107" x="399" y="2129.5591">for the whole DB</text>
        <path d="M531.5,2149.625 L608.5,2149.625 L608.5,2156.625 L598.5,2166.625 L531.5,2166.625 L531.5,2149.625 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="118.5313" style="stroke: #000000; stroke-width: 2.0;" width="346" x="531.5" y="2149.625" /><text fill="#000000" font-family="Helvetica" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="546.5" y="2162.6919">loop</text><text fill="#000000" font-family="Helvetica" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="623.5" y="2161.8354">[annotations]</text>
        <polygon fill="#A80036" points="885.5,2183.8906,895.5,2187.8906,885.5,2191.8906,889.5,2187.8906" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="605" x2="891.5" y1="2187.8906" y2="2187.8906" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="612" y="2182.8247">get data from the Internet</text>
        <polygon fill="#A80036" points="616,2197.8906,606,2201.8906,616,2205.8906,612,2201.8906" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="896.5" y1="2201.8906" y2="2201.8906" />
        <polygon fill="#A80036" points="756,2227.0234,766,2231.0234,756,2235.0234,760,2231.0234" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="605" x2="762" y1="2231.0234" y2="2231.0234" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="612" y="2225.9575">insert additional data</text>
        <polygon fill="#A80036" points="616,2256.1563,606,2260.1563,616,2264.1563,612,2260.1563" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="610" x2="772" y1="2260.1563" y2="2260.1563" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="622" y="2255.0903">SUCCESS</text>
        <polygon fill="#A80036" points="398,2292.2891,388,2296.2891,398,2300.2891,394,2296.2891" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="392" x2="599" y1="2296.2891" y2="2296.2891" /><text fill="#000000" font-family="Helvetica" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="404" y="2291.2231">SUCCESS</text><text fill="#888888" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="95" x="802.5" y="12.2822">version: 20.10.2020</text>
        <!--MD5=[b76dfc304d5b2df448fc95923e60a2dc]
@startuml

title MaSiMiWa - Sequence Overview\nfor a valid request
header version: %date("dd.MM.yyyy")
'header version: 23.11.2018

skinparam defaultFontName Helvetica
skinparam shadowing false


!definelong check_logic()
group #fda check logic<sup>(//see activity UML//)</sup>

seek            <-      miwa            : get json
seek            - ->     miwa

seek            <-      miwa            : OPT: get content_blob (files)
seek            - ->     miwa

end
!enddefinelong

!definelong process_queue()
miwa            - ->     miwa            : process queue

    activate miwa

    loop #efe queue
    
    loop #ffe insert each content

    miwa            ->      morre           : ""add_model""
        activate morre
        
        morre           ->]                     : get file from the Internet
        morre           <- -]

        morre           ->      db              : insert new model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
    miwa            <- -     morre           : SUCCESS
        deactivate morre
    
    end
    end

    miwa            ->      morre           : ""create_annotation_index""\nupgrade annotations, etc.\n//for the whole DB//
        activate morre

        loop #efe annotations

        morre           ->]                     : get data from the Internet
        morre           <- -]

        morre           ->      db              : insert additional data
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
        end
    
    miwa            <- -     morre           : SUCCESS
        deactivate morre 

    deactivate miwa
!enddefinelong







participant "SEEK" as seek
box "MaSyMoS"
    control "MaSiMiWa" as miwa
    control "MaSyMoS-Morre" as morre
    database "masymos_neo4j_database" as db


activate seek #aaf
    activate miwa #afa

== INSERT ==

hnote over seek
    * user added a public model
    * user made a model public
end note

seek            ->      miwa            : insert_model(id)
    activate miwa

check_logic()

seek            <- -     miwa            : SUCCESS
    deactivate miwa

process_queue()







== DELETE ==

hnote over seek
    * user deleted a public model
    * user made a public model non-public
end note

seek            ->      miwa            : delete_model(id)
    activate miwa
    
    miwa            ->      morre           : ""delete_model""
        activate morre
    
        morre           ->      db              : delete model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db

    miwa            <- -     morre           : SUCCESS
        deactivate morre 

seek            <-      miwa            : SUCCESS
    deactivate miwa 






== UPDATE ==

hnote over seek
    * user uploads a new version
       to a public model
end note

seek            ->      miwa            : update_model(id)
    activate miwa

    note over miwa,db #fff
        # do a DELETE
        # do an INSERT
    end note

seek            <-      miwa            : SUCCESS
    deactivate miwa 




== BATCH ==

hnote over seek
    * admin forces recreation of masymos-db
    * can take several hours
    * data is not usable before annotating is done,
       so wait with the SUCCESS until finished
end note


seek            ->      miwa            : insert_models(id<<List>>)
activate miwa

loop list
check_logic()
end

miwa            ->      morre           : delete whole database
    activate morre
    morre           ->      db              : delete whole database
        activate db
    morre           <- -     db
        deactivate db
miwa            <- -     morre           : SUCCESS
    deactivate morre

seek            <- -     miwa            : SUCCESS
deactivate miwa

process_queue()





@enduml

@startuml

title MaSiMiWa - Sequence Overview\nfor a valid request
header version: 20.10.2020

skinparam defaultFontName Helvetica
skinparam shadowing false










participant "SEEK" as seek
box "MaSyMoS"
    control "MaSiMiWa" as miwa
    control "MaSyMoS-Morre" as morre
    database "masymos_neo4j_database" as db


activate seek #aaf
    activate miwa #afa

== INSERT ==

hnote over seek
    * user added a public model
    * user made a model public
end note

seek            ->      miwa            : insert_model(id)
    activate miwa

group #fda check logic<sup>(//see activity UML//)</sup>

seek            <-      miwa            : get json
seek            - ->     miwa

seek            <-      miwa            : OPT: get content_blob (files)
seek            - ->     miwa

end

seek            <- -     miwa            : SUCCESS
    deactivate miwa

miwa            - ->     miwa            : process queue

    activate miwa

    loop #efe queue
    
    loop #ffe insert each content

    miwa            ->      morre           : ""add_model""
        activate morre
        
        morre           ->]                     : get file from the Internet
        morre           <- -]

        morre           ->      db              : insert new model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
    miwa            <- -     morre           : SUCCESS
        deactivate morre
    
    end
    end

    miwa            ->      morre           : ""create_annotation_index""\nupgrade annotations, etc.\n//for the whole DB//
        activate morre

        loop #efe annotations

        morre           ->]                     : get data from the Internet
        morre           <- -]

        morre           ->      db              : insert additional data
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
        end
    
    miwa            <- -     morre           : SUCCESS
        deactivate morre 

    deactivate miwa







== DELETE ==

hnote over seek
    * user deleted a public model
    * user made a public model non-public
end note

seek            ->      miwa            : delete_model(id)
    activate miwa
    
    miwa            ->      morre           : ""delete_model""
        activate morre
    
        morre           ->      db              : delete model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db

    miwa            <- -     morre           : SUCCESS
        deactivate morre 

seek            <-      miwa            : SUCCESS
    deactivate miwa 






== UPDATE ==

hnote over seek
    * user uploads a new version
       to a public model
end note

seek            ->      miwa            : update_model(id)
    activate miwa

    note over miwa,db #fff
        # do a DELETE
        # do an INSERT
    end note

seek            <-      miwa            : SUCCESS
    deactivate miwa 




== BATCH ==

hnote over seek
    * admin forces recreation of masymos-db
    * can take several hours
    * data is not usable before annotating is done,
       so wait with the SUCCESS until finished
end note


seek            ->      miwa            : insert_models(id<<List>>)
activate miwa

loop list
group #fda check logic<sup>(//see activity UML//)</sup>

seek            <-      miwa            : get json
seek            - ->     miwa

seek            <-      miwa            : OPT: get content_blob (files)
seek            - ->     miwa

end
end

miwa            ->      morre           : delete whole database
    activate morre
    morre           ->      db              : delete whole database
        activate db
    morre           <- -     db
        deactivate db
miwa            <- -     morre           : SUCCESS
    deactivate morre

seek            <- -     miwa            : SUCCESS
deactivate miwa

miwa            - ->     miwa            : process queue

    activate miwa

    loop #efe queue
    
    loop #ffe insert each content

    miwa            ->      morre           : ""add_model""
        activate morre
        
        morre           ->]                     : get file from the Internet
        morre           <- -]

        morre           ->      db              : insert new model
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
    miwa            <- -     morre           : SUCCESS
        deactivate morre
    
    end
    end

    miwa            ->      morre           : ""create_annotation_index""\nupgrade annotations, etc.\n//for the whole DB//
        activate morre

        loop #efe annotations

        morre           ->]                     : get data from the Internet
        morre           <- -]

        morre           ->      db              : insert additional data
            activate db
        morre           <- -     db              : SUCCESS
            deactivate db
        
        end
    
    miwa            <- -     morre           : SUCCESS
        deactivate morre 

    deactivate miwa





@enduml

PlantUML version 1.2020.16(Sun Aug 23 22:20:43 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
-->
    </g>
</svg>